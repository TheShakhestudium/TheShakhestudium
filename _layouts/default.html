<!DOCTYPE html>
<html lang="{{ page.lang | default: site.default_lang }}">
<head>
  <!-- Metadatos básicos -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="{{ page.description | default: site.description }}">
  <meta name="keywords" content="{{ page.keywords | default: site.keywords }}">
  <meta name="author" content="{{ page.author | default: site.author }}">
  <meta name="robots" content="index, follow">

  <!-- Título -->
  <title>{{ page.title | default: site.title }}</title>

  <!-- Open Graph (SEO social) -->
  <meta property="og:title" content="{{ page.title | escape }} · {{ site.title }}">
  <meta property="og:description" content="{{ page.description | default: site.description }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:image" content="{{ page.image | default: site.image | absolute_url }}">

  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@YourTwitterHandle">
  <meta name="twitter:title" content="{{ page.title }} · {{ site.title }}">
  <meta name="twitter:description" content="{{ page.description | default: site.description }}">
  <meta name="twitter:image" content="{{ page.image | default: site.image | absolute_url }}">

  <!-- SEO multilingüe -->
  <link rel="alternate" hreflang="es" href="{{ '/es/' | absolute_url }}">
  <link rel="alternate" hreflang="en" href="{{ '/en/' | absolute_url }}">
  <link rel="alternate" hreflang="fr" href="{{ '/fr/' | absolute_url }}">
  <link rel="alternate" hreflang="de" href="{{ '/de/' | absolute_url }}">
  <link rel="alternate" hreflang="x-default" href="{{ '/en/' | absolute_url }}">

  <!-- Canonical URL -->
  <link rel="canonical" href="{{ page.url | absolute_url }}">

  <!-- Iconos y favicons -->
  <link rel="shortcut icon" href="{{ '/assets/images/favicon.ico' | relative_url }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ '/assets/images/favicon-32x32.png' | relative_url }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ '/assets/images/favicon-16x16.png' | relative_url }}">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/images/apple-touch-icon.png' | relative_url }}">
  <link rel="manifest" href="{{ '/site.webmanifest' | relative_url }}">
  <meta name="theme-color" content="#000000">

  <!-- Estilos CSS -->
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/style.min.css' | relative_url }}">

  <!-- Preconnect & Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">

  <!-- Sitemap & robots -->
  <link rel="sitemap" type="application/xml" title="Sitemap" href="{{ '/sitemap.xml' | absolute_url }}">
  <link rel="robots" href="{{ '/robots.txt' | absolute_url }}">

  <!-- JSON-LD para rich snippets -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "url": "{{ site.url | default: site.github.url }}",
    "name": "{{ site.title }}",
    "description": "{{ site.description }}"
  }
  </script>

  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CFF80MDFK0"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-CFF80MDFK0', { 'anonymize_ip': true });
  </script>

  <!-- Plugins adicionales -->
  {% seo %}                                <!-- jekyll-seo-tag -->
  {{ head }}
</head>
<body class="theme--dark">
  <!-- HEADER -->
  <header class="site-header" role="banner">
    {% include lang-switcher.html %}
    <nav aria-label="Main navigation">
      {% assign lang = page.lang | default: site.default_lang %}
      {% for item in site.data.navigation[lang] %}
        <a href="{{ item.url | relative_url }}" aria-label="{{ item.title }}">{{ item.title }}</a>
      {% endfor %}
    </nav>
  </header>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="page page__content" role="main">
    {{ content }}
  </main>

  <!-- FOOTER -->
  <footer class="site-footer" role="contentinfo">
    {% include footer.html %}
  </footer>

  <!-- Scripts adicionales -->
  <script src="{{ '/assets/js/main.js' | relative_url }}" defer></script>
  <script src="{{ '/assets/js/analytics.js' | relative_url }}" async></script>
</body>
</html>
